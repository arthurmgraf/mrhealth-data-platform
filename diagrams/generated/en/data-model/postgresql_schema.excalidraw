{
  "type": "excalidraw",
  "version": 2,
  "source": "claude-code-mrhealth",
  "elements": [
    {"id":"logo","type":"image","x":40,"y":15,"width":40,"height":40,"status":"saved","fileId":"postgresql_logo","scale":[1,1]},
    {"id":"title","type":"text","x":90,"y":20,"width":900,"height":40,"text":"PostgreSQL 16 - Reference Data Schema (K3s Cluster)","fontSize":28,"fontFamily":3,"strokeColor":"#4169E1"},
    {"id":"subtitle","type":"text","x":40,"y":65,"width":900,"height":20,"text":"Namespace: mrhealth-db | NodePort: 30432 | Access: SSH Tunnel + mrhealth_readonly user","fontSize":14,"fontFamily":3,"strokeColor":"#868e96"},

    {"id":"pais_box","type":"rectangle","x":380,"y":120,"width":220,"height":180,"strokeColor":"#336791","backgroundColor":"#e8f4f8","fillStyle":"solid","strokeWidth":2,"roundness":{"type":3}},
    {"id":"pais_header","type":"rectangle","x":380,"y":120,"width":220,"height":35,"strokeColor":"#336791","backgroundColor":"#336791","fillStyle":"solid","strokeWidth":2},
    {"id":"pais_title","type":"text","x":390,"y":127,"width":200,"height":22,"text":"pais","fontSize":16,"fontFamily":3,"strokeColor":"#ffffff"},
    {"id":"pais_pk","type":"text","x":390,"y":165,"width":200,"height":18,"text":"PK id_pais SERIAL","fontSize":12,"fontFamily":3,"strokeColor":"#c92a2a"},
    {"id":"pais_col1","type":"text","x":390,"y":188,"width":200,"height":18,"text":"   nome_pais VARCHAR(100) NOT NULL","fontSize":11,"fontFamily":3,"strokeColor":"#495057"},
    {"id":"pais_rows","type":"text","x":390,"y":220,"width":200,"height":40,"text":"---\nRows: 1\nData: Brasil","fontSize":10,"fontFamily":3,"strokeColor":"#868e96"},

    {"id":"estado_box","type":"rectangle","x":380,"y":340,"width":220,"height":220,"strokeColor":"#336791","backgroundColor":"#e8f4f8","fillStyle":"solid","strokeWidth":2,"roundness":{"type":3}},
    {"id":"estado_header","type":"rectangle","x":380,"y":340,"width":220,"height":35,"strokeColor":"#336791","backgroundColor":"#336791","fillStyle":"solid","strokeWidth":2},
    {"id":"estado_title","type":"text","x":390,"y":347,"width":200,"height":22,"text":"estado","fontSize":16,"fontFamily":3,"strokeColor":"#ffffff"},
    {"id":"estado_pk","type":"text","x":390,"y":385,"width":200,"height":18,"text":"PK id_estado SERIAL","fontSize":12,"fontFamily":3,"strokeColor":"#c92a2a"},
    {"id":"estado_col1","type":"text","x":390,"y":408,"width":200,"height":18,"text":"   nome_estado VARCHAR(100) NOT NULL","fontSize":11,"fontFamily":3,"strokeColor":"#495057"},
    {"id":"estado_fk","type":"text","x":390,"y":431,"width":200,"height":18,"text":"FK id_pais INT -> pais","fontSize":11,"fontFamily":3,"strokeColor":"#1971c2"},
    {"id":"estado_rows","type":"text","x":390,"y":465,"width":200,"height":70,"text":"---\nRows: 3\nData:\n  - Rio Grande do Sul (RS)\n  - Santa Catarina (SC)\n  - Parana (PR)","fontSize":10,"fontFamily":3,"strokeColor":"#868e96"},

    {"id":"unidade_box","type":"rectangle","x":100,"y":600,"width":280,"height":240,"strokeColor":"#336791","backgroundColor":"#e8f4f8","fillStyle":"solid","strokeWidth":2,"roundness":{"type":3}},
    {"id":"unidade_header","type":"rectangle","x":100,"y":600,"width":280,"height":35,"strokeColor":"#336791","backgroundColor":"#336791","fillStyle":"solid","strokeWidth":2},
    {"id":"unidade_title","type":"text","x":110,"y":607,"width":260,"height":22,"text":"unidade (Restaurant Units)","fontSize":16,"fontFamily":3,"strokeColor":"#ffffff"},
    {"id":"unidade_pk","type":"text","x":110,"y":645,"width":260,"height":18,"text":"PK id_unidade SERIAL","fontSize":12,"fontFamily":3,"strokeColor":"#c92a2a"},
    {"id":"unidade_col1","type":"text","x":110,"y":668,"width":260,"height":18,"text":"   nome_unidade VARCHAR(200) NOT NULL","fontSize":11,"fontFamily":3,"strokeColor":"#495057"},
    {"id":"unidade_fk","type":"text","x":110,"y":691,"width":260,"height":18,"text":"FK id_estado INT -> estado","fontSize":11,"fontFamily":3,"strokeColor":"#1971c2"},
    {"id":"unidade_rows","type":"text","x":110,"y":725,"width":260,"height":100,"text":"---\nRows: 50\nDistribution:\n  - RS: 20 units (40%)\n  - SC: 15 units (30%)\n  - PR: 15 units (30%)\nNaming: MR. HEALTH {Cidade} #{n}","fontSize":10,"fontFamily":3,"strokeColor":"#868e96"},

    {"id":"produto_box","type":"rectangle","x":600,"y":600,"width":280,"height":240,"strokeColor":"#336791","backgroundColor":"#e8f4f8","fillStyle":"solid","strokeWidth":2,"roundness":{"type":3}},
    {"id":"produto_header","type":"rectangle","x":600,"y":600,"width":280,"height":35,"strokeColor":"#336791","backgroundColor":"#336791","fillStyle":"solid","strokeWidth":2},
    {"id":"produto_title","type":"text","x":610,"y":607,"width":260,"height":22,"text":"produto (Menu Items)","fontSize":16,"fontFamily":3,"strokeColor":"#ffffff"},
    {"id":"produto_pk","type":"text","x":610,"y":645,"width":260,"height":18,"text":"PK id_produto SERIAL","fontSize":12,"fontFamily":3,"strokeColor":"#c92a2a"},
    {"id":"produto_col1","type":"text","x":610,"y":668,"width":260,"height":18,"text":"   nome_produto VARCHAR(200) NOT NULL","fontSize":11,"fontFamily":3,"strokeColor":"#495057"},
    {"id":"produto_rows","type":"text","x":610,"y":705,"width":260,"height":120,"text":"---\nRows: ~200\nCategories:\n  - Pratos Principais (~50)\n  - Bebidas (~40)\n  - Sobremesas (~30)\n  - Acompanhamentos (~30)\n  - Combos (~30)\n  - Outros (~20)","fontSize":10,"fontFamily":3,"strokeColor":"#868e96"},

    {"id":"fk_pais_estado","type":"arrow","x":490,"y":300,"width":0,"height":40,"strokeColor":"#1971c2","strokeWidth":2,"points":[[0,0],[0,40]],"endArrowhead":"arrow"},
    {"id":"fk_estado_unidade","type":"arrow","x":380,"y":505,"width":-100,"height":95,"strokeColor":"#1971c2","strokeWidth":2,"points":[[0,0],[-100,50],[-100,95]],"endArrowhead":"arrow"},

    {"id":"legend_box","type":"rectangle","x":40,"y":880,"width":940,"height":120,"strokeColor":"#495057","backgroundColor":"#f8f9fa","fillStyle":"solid","strokeWidth":1},
    {"id":"legend_title","type":"text","x":60,"y":895,"width":200,"height":20,"text":"Legend & Access Info","fontSize":14,"fontFamily":3,"strokeColor":"#495057"},
    {"id":"legend_content","type":"text","x":60,"y":925,"width":450,"height":65,"text":"PK - Primary Key (Unique identifier)\nFK - Foreign Key (References parent table)\n\nRelationships:\n  pais (1) <-> (N) estado <-> (N) unidade","fontSize":10,"fontFamily":3,"strokeColor":"#495057"},
    {"id":"legend_access","type":"text","x":530,"y":925,"width":430,"height":65,"text":"Access Configuration:\n  Host: K3s Node IP (via SSH tunnel)\n  Port: 30432 (NodePort) -> 5432 (internal)\n  User: mrhealth_readonly (SELECT only)\n  Database: mrhealth\n  Extraction: Daily via pg-reference-extractor Cloud Function","fontSize":10,"fontFamily":3,"strokeColor":"#495057"}
  ],
  "appState": {"viewBackgroundColor":"#ffffff","gridSize":null},
  "files": {
    "postgresql_logo": {
      "mimeType": "image/svg+xml",
      "id": "postgresql_logo",
      "dataURL": "data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNDE2OUUxIiByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+UG9zdGdyZVNRTDwvdGl0bGU+PHBhdGggZD0iTTIzLjU1OTQgMTQuNzIyOGEuNTI2OS41MjY5IDAgMCAwLS4wNTYzLS4xMTkxYy0uMTM5LS4yNjMyLS40NzY4LS4zNDE4LTEuMDA3NC0uMjMyMS0xLjY1MzMuMzQxMS0yLjI5MzUuMTMxMi0yLjUyNTYtLjAxOTEgMS4zNDItMi4wNDgyIDIuNDQ1LTQuNTIyIDMuMDQxMS02LjgyOTcuMjcxNC0xLjA1MDcuNzk4Mi0zLjUyMzcuMTIyMi00LjczMTZhMS41NjQxIDEuNTY0MSAwIDAgMC0uMTUwOS0uMjM1QzIxLjY5MzEuOTA4NiAxOS44MDA3LjAyNDggMTcuNTA5OS4wMDA1Yy0xLjQ5NDctLjAxNTgtMi43NzA1LjM0NjEtMy4xMTYxLjQ3OTRhOS40NDkgOS40NDkgMCAwIDAtLjUxNTktLjA4MTYgOC4wNDQgOC4wNDQgMCAwIDAtMS4zMTE0LS4xMjc4Yy0xLjE4MjItLjAxODQtMi4yMDM4LjI2NDItMy4wNDk4Ljg0MDYtLjg1NzMtLjMyMTEtNC43ODg4LTEuNjQ1LTcuMjIxOS4wNzg4Qy45MzU5IDIuMTUyNi4zMDg2IDMuODczMy40MzAyIDYuMzA0M2MuMDQwOS44MTguNTA2OSAzLjMzNCAxLjI0MjMgNS43NDM2LjQ1OTggMS41MDY1LjkzODcgMi43MDE5IDEuNDMzNCAzLjU4Mi41NTMuOTk0MiAxLjEyNTkgMS41OTMzIDEuNzE0MyAxLjc4OTUuNDQ3NC4xNDkxIDEuMTMyNy4xNDQxIDEuODU4MS0uNzI3OS44MDEyLS45NjM1IDEuNTkwMy0xLjgyNTggMS45NDQ2LTIuMjA2OS40MzUxLjIzNTUuOTA2NC4zNjI1IDEuMzkuMzc3MmEuMDU2OS4wNTY5IDAgMCAwIC4wMDA0LjAwNDEgMTEuMDMxMiAxMS4wMzEyIDAgMCAwLS4yNDcyLjMwNTRjLS4zMzg5LjQzMDItLjQwOTQuNTE5Ny0xLjUwMDIuNzQ0My0uMzEwMi4wNjQtMS4xMzQ0LjIzMzktMS4xNDY0LjgxMTUtLjAwMjUuMTIyNC4wMzI5LjIzMDkuMDkxOS4zMjY4LjIyNjkuNDIzMS45MjE2LjYwOTcgMS4wMTUuNjMzMSAxLjMzNDUuMzMzNSAyLjUwNDQuMDkyIDMuMzcxNC0uNjc4Ny0uMDE3IDIuMjMxLjA3NzUgNC40MTc0LjM0NTQgNS4wODc0LjIyMTIuNTUyOS43NjE4IDEuOTA0NSAyLjQ2OTIgMS45MDQzLjI1MDUgMCAuNTI2My0uMDI5MS44Mjk2LS4wOTQxIDEuNzgxOS0uMzgyMSAyLjU1NTctMS4xNjk2IDIuODU1LTIuOTA1OS4xNTAzLS44NzA3LjQwMTYtMi44NzUzLjUzODgtNC4xMDEyLjAxNjktLjA3MDMuMDM1Ny0uMTIwNy4wNTctLjEzNjIuMDAwNy0uMDAwNS4wNjk3LS4wNDcxLjQyNzIuMDMwN2EuMzY3My4zNjczIDAgMCAwIC4wNDQzLjAwNjhsLjI1MzkuMDIyMy4wMTQ5LjAwMWMuODQ2OC4wMzg0IDEuOTExNC0uMTQyNiAyLjUzMTItLjQzMDguNjQzOC0uMjk4OCAxLjgwNTctMS4wMzIzIDEuNTk1MS0xLjY2OTh6Ii8+PC9zdmc+",
      "created": 1706745600000
    }
  }
}
