# Centralized K8s Secrets for MR. HEALTH Data Platform
# ==========================================================
# All service credentials in one Secret (referenced by all deployments).
# Values below are placeholders -- replace before applying to production.
#
# Generate secure values:
#   openssl rand -base64 32     (for passwords)
#   python3 -c "import secrets; print(secrets.token_hex(32))"  (for secret keys)
#
# IMPORTANT: This file MUST be in .gitignore. The version committed to git
# contains only placeholder values. Real values are set on the server.
apiVersion: v1
kind: Secret
metadata:
  name: mrhealth-secrets
  namespace: mrhealth-db
  labels:
    app.kubernetes.io/part-of: mrhealth
type: Opaque
stringData:
  # --- PostgreSQL ---
  postgres-password: "REPLACE_WITH_SECURE_PASSWORD"
  pg-extractor-password: "REPLACE_WITH_SECURE_PASSWORD"

  # --- Airflow ---
  airflow-admin-password: "REPLACE_WITH_SECURE_PASSWORD"
  airflow-secret-key: "REPLACE_WITH_SECURE_KEY"
  airflow-db-conn: "postgresql+psycopg2://airflow:REPLACE_WITH_SECRET@airflow-postgres:5432/airflow"

  # --- Grafana ---
  grafana-admin-password: "REPLACE_WITH_SECURE_PASSWORD"

  # --- Superset ---
  superset-admin-password: "REPLACE_WITH_SECURE_PASSWORD"
  superset-secret-key: "REPLACE_WITH_SECURE_KEY"
